{% extends 'theme/wos/staff/clean-wide.twig' %}

{% set crumbNav = [
    {'url': route('staff.partners.dashboard'), 'text': 'Partners'},
    {'text': PageTitle}
] %}

{% block page_inner %}

<div class="row">

    <div class="col-md-12">

        {% if ItemList %}

            <table class="table data-sortable">
                <thead>
                    <tr>
                        <th class="text-left">Publisher</th>
                        <th class="text-center">Count</th>
                        <th class="text-center">Options</th>
                    </tr>
                </thead>
                <tbody>
                {% for item in ItemList %}
                    <tr>
                        <td class="text-left">
                            {{ item.publisher }}
                        </td>
                        <td class="text-center">
                            {{ item.count }}
                        </td>
                        <td class="text-center">
                            {% if item.publisher %}
                                <a href="{{ route('staff.partners.data-cleanup.legacy-publisher-no-games-company.game-list', {'publisher': item.publisher|raw|url_encode(true)}) }}">View games</a>
                            {% else %}
                                -
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

        {% endif %}

    </div>

</div>

{% include 'common/table-sorting.twig' %}
<script>
    $(document).ready(function() {
        $('.data-sortable').DataTable({
            "order": [0, 'asc'],
            "pageLength": 25,
            "columns": [
                null,
                null,
                { "orderable": false }
            ]
        });
    });
</script>

{% endblock page_inner %}
