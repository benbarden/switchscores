{% import 'ui/components/taxonomy/layout-version-dropdown.twig' as layoutVersion %}
{% import 'ui/components/form/submit.twig' as formsubmit %}

{% include 'ui/components/alerts/form-errors.twig' %}
<form role="form" method="post" action="{{ formSubmitAction }}">
    {{ csrf_field() }}

    <div class="row mb-3">
        <label for="name" class="col-sm-2 col-form-label">Category name</label>
        <div class="col-sm-4">
            <input id="name" name="name" type="text" class="form-control" required>
        </div>
    </div>

    <div class="row mb-3">
        <label for="link_title" class="col-sm-2 col-form-label">Link title</label>
        <div class="col-sm-4">
            <input id="link_title" name="link_title" type="text" class="form-control" required>
            <div class="form-text">Automatically generated from the name. Can be changed if you wish</div>
        </div>
    </div>

    <div class="row mb-3">
        <label for="blurb_option" class="col-md-2 col-form-label">Blurb option</label>
        <div class="col-sm-4">
            <select id="blurb_option" class="form-select" name="blurb_option" required>
                <option value="">&nbsp;</option>
                {% for key,item in BlurbOptionList %}
                    <option value="{{ key }}">{{ item }}</option>
                {% endfor %}
            </select>
            <div class="form-text">Determines how the category name will be displayed in the "blurb" on game pages</div>
        </div>
    </div>

    <div class="row mb-3">
        <label for="parent_id" class="col-md-2 col-form-label">Parent</label>
        <div class="col-sm-4">
            <select id="parent_id" class="form-select" name="parent_id">
                <option value="">&nbsp;</option>
                {% for item in CategoryList %}
                    {% if item.id != CategoryData.id %}
                        <option value="{{ item.id }}">{{ item.name }}</option>
                    {% endif %}
                {% endfor %}
            </select>
            <div class="form-text">Optional</div>
        </div>
    </div>

    <div class="row mb-3">
        <label for="taxonomy_reviewed" class="col-sm-2 col-form-label">Taxonomy reviewed</label>
        <div class="col-sm-4">
            <select id="taxonomy_reviewed" class="form-select" name="taxonomy_reviewed">
                <option value="0">Not reviewed</option>
                <option value="1">Reviewed</option>
                <option value="2">Deprecated</option>
            </select>
        </div>
    </div>

    {{ layoutVersion.render('layout_version', 'Layout version', LayoutVersionList, CategoryData.layout_version) }}

    <div class="row mb-3">
        <label for="intro_description" class="col-sm-2 col-form-label">Intro description</label>
        <div class="col-sm-4">
            <textarea id="intro_description" name="intro_description" type="text" class="form-control"></textarea>
        </div>
    </div>

    <div class="row mb-3">
        <label for="meta_description" class="col-sm-2 col-form-label">Meta description</label>
        <div class="col-sm-4">
            <textarea id="meta_description" name="meta_description" type="text" class="form-control"></textarea>
        </div>
    </div>

    {{ formsubmit.renderB5() }}

</form>
