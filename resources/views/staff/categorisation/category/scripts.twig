<script>

    var formMode = '{{ FormMode }}';
    var formVals = [];

    if (formMode == 'edit') {

        // This is used when editing existing records.
        formVals['name'] = "{{ CategoryData.name }}";
        formVals['link_title'] = "{{ CategoryData.link_title }}";
        formVals['blurb_option'] = "{{ CategoryData.blurb_option }}";
        formVals['parent_id'] = "{{ CategoryData.parent_id }}";

    } else {

        // This is used for new records.
        // It's also used when submitting the edit version, to avoid the DB data overwriting the form.
        formVals['name'] = "{{ old('name') }}";
        formVals['link_title'] = "{{ old('link_title') }}";
        formVals['blurb_option'] = "{{ old('blurb_option') }}";
        formVals['parent_id'] = "{{ old('parent_id') }}";

    }

    $('#name').val(formVals['name']);
    $('#link_title').val(formVals['link_title']);
    $('#blurb_option').val(formVals['blurb_option']);
    $('#parent_id').val(formVals['parent_id']);

    $('#name').on('blur', function() {
        ssAdminTools.convertToLinkTitle('name', 'link_title');
    });

    $(document).ready(function() {
        $('#name').focus();
    });

</script>
