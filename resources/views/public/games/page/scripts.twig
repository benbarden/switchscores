<script>

    $('.js-user-owned-list-toggle').on('click', function() {
        itemId = $(this).data('id');
        itemContent = $(this).data('content');
        if (itemId == '') {
            return false;
        }
        if (itemContent == 'added') {
            itemNewState = 'not-added';
        } else {
            itemNewState = 'added';
        }

        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });

        $.getJSON('/user-list-item/add', {itemId: itemId, itemNewState: itemNewState, listType: 'owned'}, function(data) {
            if (itemNewState == 'added') {
                $('#js-user-owned-list-btn').removeClass('btn-primary');
                $('#js-user-owned-list-btn').data('content', 'added');
                $('#js-user-owned-list-btn').text('Added to Owned List');
            } else {
                $('#js-user-owned-list-btn').addClass('btn-primary');
                $('#js-user-owned-list-btn').data('content', 'not-added');
                $('#js-user-owned-list-btn').text('Add to Owned List');
            }
        });
    });

    $('.js-user-wish-list-toggle').on('click', function() {
        itemId = $(this).data('id');
        itemContent = $(this).data('content');
        if (itemId == '') {
            return false;
        }
        if (itemContent == 'added') {
            itemNewState = 'not-added';
        } else {
            itemNewState = 'added';
        }

        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });

        $.getJSON('/user-list-item/add', {itemId: itemId, itemNewState: itemNewState, listType: 'wish'}, function(data) {
            if (itemNewState == 'added') {
                $('#js-user-wish-list-btn').removeClass('btn-primary');
                $('#js-user-wish-list-btn').data('content', 'added');
                $('#js-user-wish-list-btn').text('Added to Wishlist');
            } else {
                $('#js-user-wish-list-btn').addClass('btn-primary');
                $('#js-user-wish-list-btn').data('content', 'not-added');
                $('#js-user-wish-list-btn').text('Add to Wishlist');
            }
        });
    });

</script>
