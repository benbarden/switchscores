<script>

    var userRegion = '{{ UserRegion }}';
    $('#user-region').val(userRegion);

    $('#btn-save-user-region').on('click', function() {

        regionCode = $('#user-region').val();
        if (regionCode == '') {
            return false;
        }

        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });

        $.getJSON('{{ route('user.profile.updateRegion') }}', {regionCode: regionCode}, function(data) {
            $('#js-user-region-notify').show();
            setTimeout("$('#js-user-region-notify').fadeOut();", 2500);
        });
    });

    $('.js-user-remove-playlist-item').on('click', function() {
        itemId = $(this).data('id');
        if (itemId == '') {
            return false;
        }

        if (!window.confirm('Remove this item from the list?')) {
            return false;
        }

        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });

        $.getJSON('/user-list-item/delete', {itemId: itemId}, function(data) {
            $('#js-user-playlist-item-' + itemId).remove();
        });
    });

</script>
