{% extends 'theme/wos/base.twig' %}

{% set crumbNav = [{'url': route('games.landing'), 'text': 'Games'}, {'text': GameData.title}] %}

{% set hideHeader = true %}

{% block page_body %}

<div class="row">

    <div class="col-xs-12 col-sm-8 col-md-6">
        <h1 style="margin: 10px 0;">
            {{ GameData.title }}
        </h1>
    </div>
    <div class="col-xs-12 col-sm-4 col-md-6">
        {% if auth_user() %}
            <span class="pull-right">
                <a href="{{ route('user.collection.add', {'gameId': GameId}) }}" class="btn btn-default btn-primary btn-xs">Add to Games collection</a>
                <a href="{{ route('user.reviews.add', {'gameId': GameId}) }}" class="btn btn-default btn-primary btn-xs">Add a quick review</a>
            </span>
        {% endif %}
    </div>

</div>

<div class="row">
    <div class="col-xs-12 col-sm-8 col-md-6" style="vertical-align: middle;">
        {% if GameData.boxart_header_image %}
        {{ ImageHelper.packshotHeaderHtml(GameData) }}
        {% else %}
        {{ ImageHelper.packshotHtml(GameData, 'game-square-header') }}
        {% endif %}
    </div>
    <div class="col-xs-12 col-sm-4 col-md-6" style="vertical-align: middle;">
        {% if GameData.game_rank %}
            <span class="h3 pull-left" style="margin: 5px 0;">
                <span><a href="{{ route('topRated.allTime') }}">All-time rank</a></span>
                <strong>{{ GameData.game_rank }}<small>/{{ RankMaximum }}</small></strong>
            </span>
        {% else %}
            <span class="h4 pull-left" style="margin: 5px 0;">
                <em>All-time rank pending</em>
            </span>
        {% endif %}
        {% if GameData.gameRankYear.game_rank != '' %}
            <span class="h3 pull-right" style="margin: 5px 0;">
                <span><a href="{{ route('topRated.byYear', {'year': GameData.gameRankYear.release_year}) }}">{{ GameData.gameRankYear.release_year }} Rank</a></span>
                <strong>{{ GameData.gameRankYear.game_rank }}<small>/100</small></strong>
            </span>
        {% endif %}
        {% include 'games/page/infobox-eshop.twig' with {'GameData': GameData, 'GameDevelopers': GameDevelopers, 'GamePublishers': GamePublishers, 'GameTags': GameTags, 'NewsInfoBox': 'N', 'ReleaseDateInfo': ReleaseDateInfo} %}
    </div>
</div>

<div class="row">

    <div class="col-xs-12 col-sm-4 col-md-6">
        {% include 'games/page/reviews.twig' with {'GameReviews': GameReviews} %}
        {% include 'games/page/userReviews.twig' with {'ReviewList': GameReviewUserList} %}
    </div>
    <div class="col-xs-12 col-sm-4 col-md-6">
        {% include 'games/page/infobox.twig' with {'GameData': GameData, 'GameDevelopers': GameDevelopers, 'GamePublishers': GamePublishers, 'GameTags': GameTags, 'NewsInfoBox': 'N', 'ReleaseDateInfo': ReleaseDateInfo} %}
        {% include 'games/page/images.twig' with {'GameData': GameData, 'VideoUrl': GameData.video_url, 'GameImages': GameData.images} %}
    </div>

</div>

<div class="row">
    <div class="col-xs-12 col-sm-12 col-md-6">
        {% if exception is null %}
            <a class="twitter-share-button" data-size="large"
               href="https://twitter.com/intent/tweet?text={{ PageTitle }}&via=worldofswitch">Tweet</a>
        {% endif %}
    </div>
</div>

{% endblock page_body %}
