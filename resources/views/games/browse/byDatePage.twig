{% extends 'theme/wos/base.twig' %}

{% set crumbNav = [{'url': route('games.landing'), 'text': 'Games'}, {'url': route('games.browse.byDate.landing'), 'text': 'Browse by date'}, {'text': CalendarDateDesc}] %}

{% block page_body %}

<p>
    This page lists all of the Nintendo Switch games released in {{ CalendarDateDesc }}.
    You can also <a href="{{ route('topRated.byMonthPage', {'date': CalendarDateUrl}) }}">view this month's
        games ordered by rating</a>.
</p>
<p>
    Faded images indicate games that have yet to be released, or have not been marked as released
    in our database. This is a manual task, so please allow a couple of days for releases to
    show up.
</p>

<div class="row">

    <div class="col-md-9">

        <h2>Games</h2>

        {% if CalendarGamesList %}
            <table class="table">
                {% for key,item in CalendarGamesList %}
                    <tr>
                        <td class="text-center" style="max-width: 200px; min-width: 100px;">
                            <span class="h3">{{ key|date('jS') }}</span>
                        </td>
                        <td>
                            {% include 'games/layouts/tiledGrid/layoutCalendar.twig' with {'GameList': item.games, 'batchOverride': 4} %}
                        </td>
                    </tr>
                {% endfor %}
            </table>
        {% endif %}

    </div>

    <div class="col-md-3">

        <h2>Totals</h2>

        {% if CalendarGamesList %}
            <table class="table">
                {% for key,item in CalendarGamesList %}
                    <tr>
                        <td class="text-center">
                            {{ key|date('jS') }}
                        </td>
                        <td class="text-center">
                            {{ item.games|length }}
                        </td>
                    </tr>
                {% endfor %}
            </table>
        {% endif %}

    </div>

</div>

{% endblock page_body %}
